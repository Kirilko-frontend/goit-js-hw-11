{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49383034-f250c1a79c2ac8474ecbb0034';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async query => {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    });\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const clearGallery = () => {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n};\n\nexport const showLoader = () => {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n};\n\nexport const hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n};\n\nexport function displayImages(images) {\n  const gallery = document.querySelector('.gallery');\n\n  images.forEach(image => {\n    const galleryItem = document.createElement('li');\n    galleryItem.classList.add('gallery-item');\n\n    const imageLink = document.createElement('a');\n    imageLink.href = image.largeImageURL;\n    imageLink.classList.add('gallery-link');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    const info = document.createElement('div');\n    info.classList.add('info');\n\n    const likes = document.createElement('p');\n    likes.textContent = `Likes: ${image.likes}`;\n\n    const views = document.createElement('p');\n    views.textContent = `Views: ${image.views}`;\n\n    const comments = document.createElement('p');\n    comments.textContent = `Comments: ${image.comments}`;\n\n    const downloads = document.createElement('p');\n    downloads.textContent = `Downloads: ${image.downloads}`;\n\n    info.appendChild(likes);\n    info.appendChild(views);\n    info.appendChild(comments);\n    info.appendChild(downloads);\n\n    imageLink.appendChild(img);\n    galleryItem.appendChild(imageLink);\n    galleryItem.appendChild(info);\n    gallery.appendChild(galleryItem);\n  });\n\n  // Убираем создание нового экземпляра SimpleLightbox при каждом вызове.\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh(); // Обновляем галерею\n}\n\nexport const showErrorMessage = () => {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  clearGallery,\n  showLoader,\n  hideLoader,\n  displayImages,\n  showErrorMessage,\n} from './js/render-functions.js';\n\ndocument.querySelector('.form').addEventListener('submit', async e => {\n  e.preventDefault();\n  const searchQuery = document\n    .querySelector(\"input[name='search-text']\")\n    .value.trim();\n\n  if (!searchQuery) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const images = await fetchImages(searchQuery);\n    hideLoader();\n\n    if (images.length === 0) {\n      showErrorMessage();\n    } else {\n      displayImages(images);\n    }\n  } catch (error) {\n    hideLoader();\n    showErrorMessage();\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","error","clearGallery","gallery","showLoader","loader","hideLoader","displayImages","images","image","galleryItem","imageLink","img","info","likes","views","comments","downloads","SimpleLightbox","showErrorMessage","iziToast","e","searchQuery"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAc,MAAMC,GAAS,CACxC,GAAI,CAUF,OATiB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,GACe,KAAK,IACtB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,EChBaC,EAAe,IAAM,CAChC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,EAEaC,EAAa,IAAM,CAC9B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,EAEaC,EAAa,IAAM,CAC9B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,EAEO,SAASE,EAAcC,EAAQ,CACpC,MAAML,EAAU,SAAS,cAAc,UAAU,EAEjDK,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,KAAOF,EAAM,cACvBE,EAAU,UAAU,IAAI,cAAc,EAEtC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhB,MAAMI,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUL,EAAM,KAAK,GAEzC,MAAMM,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUN,EAAM,KAAK,GAEzC,MAAMO,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,aAAaP,EAAM,QAAQ,GAElD,MAAMQ,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,YAAc,cAAcR,EAAM,SAAS,GAErDI,EAAK,YAAYC,CAAK,EACtBD,EAAK,YAAYE,CAAK,EACtBF,EAAK,YAAYG,CAAQ,EACzBH,EAAK,YAAYI,CAAS,EAE1BN,EAAU,YAAYC,CAAG,EACzBF,EAAY,YAAYC,CAAS,EACjCD,EAAY,YAAYG,CAAI,EAC5BV,EAAQ,YAAYO,CAAW,CACnC,CAAG,EAGgB,IAAIQ,EAAe,YAAY,EACvC,QAAO,CAClB,CAEO,MAAMC,EAAmB,IAAM,CACpCC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACN,CAAG,CACH,EC/DA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,MAAMC,GAAK,CACpEA,EAAE,eAAc,EAChB,MAAMC,EAAc,SACjB,cAAc,2BAA2B,EACzC,MAAM,KAAI,EAEb,GAAI,CAACA,EAAa,CAChB,SAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACf,CAAK,EACD,MACD,CAEDpB,IACAE,IAEA,GAAI,CACF,MAAMI,EAAS,MAAMV,EAAYwB,CAAW,EAC5ChB,IAEIE,EAAO,SAAW,EACpBW,IAEAZ,EAAcC,CAAM,CAEvB,MAAe,CACdF,IACAa,GACD,CACH,CAAC"}